[2018-05-17 21:44:38 +0800] [7204] [INFO] Starting gunicorn 19.7.1
[2018-05-17 21:44:38 +0800] [7204] [INFO] Listening at: http://127.0.0.1:8000 (7204)
[2018-05-17 21:44:38 +0800] [7204] [INFO] Using worker: sync
[2018-05-17 21:44:38 +0800] [7205] [INFO] Booting worker with pid: 7205
[2018-05-17 21:45:00 +0800] [7205] [ERROR] Error handling request /v1/AI_model/predict
Traceback (most recent call last):
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 135, in handle
    self.handle_request(listener, req, client, addr)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 176, in handle_request
    respiter = self.wsgi(environ, resp.start_response)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/falcon/api.py", line 244, in __call__
    responder(req, resp, **params)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/predict.py", line 59, in on_post
    po = self.AI_worker_client.predict(prediction_input)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/AI_worker_client.py", line 94, in predict
    worker = self.load_balancer.choose_worker("AI", prediction_input.model_id)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/commons/src/load_balancer/worker_load_balancer.py", line 125, in choose_worker
    raise Exception("No worker available for the given model type! ")
Exception: No worker available for the given model type! 
[2018-05-17 22:21:16 +0800] [7204] [CRITICAL] WORKER TIMEOUT (pid:7205)
[2018-05-17 22:21:16 +0800] [7205] [INFO] Worker exiting (pid: 7205)
[2018-05-17 22:21:16 +0800] [7253] [INFO] Booting worker with pid: 7253
[2018-05-17 22:25:05 +0800] [7204] [CRITICAL] WORKER TIMEOUT (pid:7253)
[2018-05-17 22:25:05 +0800] [7253] [INFO] Worker exiting (pid: 7253)
[2018-05-17 22:25:05 +0800] [7257] [INFO] Booting worker with pid: 7257
[2018-05-17 22:58:15 +0800] [7204] [CRITICAL] WORKER TIMEOUT (pid:7257)
[2018-05-17 22:58:15 +0800] [7257] [INFO] Worker exiting (pid: 7257)
[2018-05-17 22:58:15 +0800] [7288] [INFO] Booting worker with pid: 7288
[2018-05-17 23:31:23 +0800] [7204] [CRITICAL] WORKER TIMEOUT (pid:7288)
[2018-05-17 23:31:23 +0800] [7288] [INFO] Worker exiting (pid: 7288)
[2018-05-17 23:31:23 +0800] [7311] [INFO] Booting worker with pid: 7311
[2018-05-18 07:18:12 +0800] [7204] [CRITICAL] WORKER TIMEOUT (pid:7311)
[2018-05-18 07:18:12 +0800] [7311] [INFO] Worker exiting (pid: 7311)
[2018-05-18 07:18:13 +0800] [7387] [INFO] Booting worker with pid: 7387
[2018-05-18 07:31:20 +0800] [7204] [CRITICAL] WORKER TIMEOUT (pid:7387)
[2018-05-18 07:31:20 +0800] [7387] [INFO] Worker exiting (pid: 7387)
[2018-05-18 07:31:21 +0800] [7482] [INFO] Booting worker with pid: 7482
[2018-05-18 07:55:49 +0800] [7204] [CRITICAL] WORKER TIMEOUT (pid:7482)
[2018-05-18 07:55:49 +0800] [7482] [INFO] Worker exiting (pid: 7482)
[2018-05-18 07:55:49 +0800] [7559] [INFO] Booting worker with pid: 7559
[2018-05-18 08:26:04 +0800] [7204] [CRITICAL] WORKER TIMEOUT (pid:7559)
[2018-05-18 08:26:04 +0800] [7559] [INFO] Worker exiting (pid: 7559)
[2018-05-18 08:26:04 +0800] [7659] [INFO] Booting worker with pid: 7659
[2018-05-18 08:29:16 +0800] [7659] [ERROR] Error handling request /v1/AI_model/predict
Traceback (most recent call last):
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 135, in handle
    self.handle_request(listener, req, client, addr)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 176, in handle_request
    respiter = self.wsgi(environ, resp.start_response)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/falcon/api.py", line 244, in __call__
    responder(req, resp, **params)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/predict.py", line 59, in on_post
    po = self.AI_worker_client.predict(prediction_input)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/AI_worker_client.py", line 94, in predict
    worker = self.load_balancer.choose_worker("AI", prediction_input.model_id)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/commons/src/load_balancer/worker_load_balancer.py", line 125, in choose_worker
    raise Exception("No worker available for the given model type! ")
Exception: No worker available for the given model type! 
[2018-05-18 09:10:43 +0800] [7659] [INFO] Worker exiting (pid: 7659)
[2018-05-18 09:10:43 +0800] [7204] [INFO] Handling signal: term
[2018-05-18 09:10:43 +0800] [7204] [INFO] Shutting down: Master
[2018-05-18 09:10:53 +0800] [9374] [INFO] Starting gunicorn 19.7.1
[2018-05-18 09:10:53 +0800] [9374] [INFO] Listening at: http://127.0.0.1:8000 (9374)
[2018-05-18 09:10:53 +0800] [9374] [INFO] Using worker: sync
[2018-05-18 09:10:53 +0800] [9375] [INFO] Booting worker with pid: 9375
[2018-05-18 10:14:05 +0800] [9375] [INFO] Worker exiting (pid: 9375)
[2018-05-18 10:14:05 +0800] [9374] [INFO] Handling signal: term
[2018-05-18 10:14:05 +0800] [9374] [INFO] Shutting down: Master
[2018-05-18 10:14:17 +0800] [9503] [INFO] Starting gunicorn 19.7.1
[2018-05-18 10:14:17 +0800] [9503] [INFO] Listening at: http://127.0.0.1:8000 (9503)
[2018-05-18 10:14:17 +0800] [9503] [INFO] Using worker: sync
[2018-05-18 10:14:17 +0800] [9504] [INFO] Booting worker with pid: 9504
[2018-05-18 10:14:46 +0800] [9504] [ERROR] Error handling request /v1/AI_model/predict
Traceback (most recent call last):
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 135, in handle
    self.handle_request(listener, req, client, addr)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 176, in handle_request
    respiter = self.wsgi(environ, resp.start_response)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/falcon/api.py", line 244, in __call__
    responder(req, resp, **params)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/predict.py", line 59, in on_post
    po = self.AI_worker_client.predict(prediction_input)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/AI_worker_client.py", line 99, in predict
    worker = self.load_balancer.choose_worker("AI", prediction_input.model_id)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/commons/src/load_balancer/worker_load_balancer.py", line 122, in choose_worker
    self.request_count[model_type][worker_id]+=1
KeyError: 'AI'
[2018-05-18 10:14:48 +0800] [9504] [ERROR] Error handling request /v1/AI_model/predict
Traceback (most recent call last):
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 135, in handle
    self.handle_request(listener, req, client, addr)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 176, in handle_request
    respiter = self.wsgi(environ, resp.start_response)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/falcon/api.py", line 244, in __call__
    responder(req, resp, **params)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/predict.py", line 59, in on_post
    po = self.AI_worker_client.predict(prediction_input)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/AI_worker_client.py", line 99, in predict
    worker = self.load_balancer.choose_worker("AI", prediction_input.model_id)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/commons/src/load_balancer/worker_load_balancer.py", line 122, in choose_worker
    self.request_count[model_type][worker_id]+=1
KeyError: 'AI'
[2018-05-18 10:14:50 +0800] [9504] [ERROR] Error handling request /v1/AI_model/predict
Traceback (most recent call last):
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 135, in handle
    self.handle_request(listener, req, client, addr)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 176, in handle_request
    respiter = self.wsgi(environ, resp.start_response)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/falcon/api.py", line 244, in __call__
    responder(req, resp, **params)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/predict.py", line 59, in on_post
    po = self.AI_worker_client.predict(prediction_input)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/AI_worker_client.py", line 99, in predict
    worker = self.load_balancer.choose_worker("AI", prediction_input.model_id)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/commons/src/load_balancer/worker_load_balancer.py", line 122, in choose_worker
    self.request_count[model_type][worker_id]+=1
KeyError: 'AI'
[2018-05-18 10:14:51 +0800] [9504] [ERROR] Error handling request /v1/AI_model/predict
Traceback (most recent call last):
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 135, in handle
    self.handle_request(listener, req, client, addr)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 176, in handle_request
    respiter = self.wsgi(environ, resp.start_response)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/falcon/api.py", line 244, in __call__
    responder(req, resp, **params)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/predict.py", line 59, in on_post
    po = self.AI_worker_client.predict(prediction_input)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/AI_worker_client.py", line 99, in predict
    worker = self.load_balancer.choose_worker("AI", prediction_input.model_id)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/commons/src/load_balancer/worker_load_balancer.py", line 122, in choose_worker
    self.request_count[model_type][worker_id]+=1
KeyError: 'AI'
[2018-05-18 10:15:05 +0800] [9504] [ERROR] Error handling request /v1/AI_model/predict
Traceback (most recent call last):
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 135, in handle
    self.handle_request(listener, req, client, addr)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 176, in handle_request
    respiter = self.wsgi(environ, resp.start_response)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/falcon/api.py", line 244, in __call__
    responder(req, resp, **params)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/predict.py", line 59, in on_post
    po = self.AI_worker_client.predict(prediction_input)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/AI_worker_client.py", line 99, in predict
    worker = self.load_balancer.choose_worker("AI", prediction_input.model_id)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/commons/src/load_balancer/worker_load_balancer.py", line 122, in choose_worker
    self.request_count[model_type][worker_id]+=1
KeyError: 'AI'
[2018-05-18 10:15:09 +0800] [9504] [ERROR] Error handling request /v1/AI_model/predict
Traceback (most recent call last):
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 135, in handle
    self.handle_request(listener, req, client, addr)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 176, in handle_request
    respiter = self.wsgi(environ, resp.start_response)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/falcon/api.py", line 244, in __call__
    responder(req, resp, **params)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/predict.py", line 59, in on_post
    po = self.AI_worker_client.predict(prediction_input)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/AI_worker_client.py", line 99, in predict
    worker = self.load_balancer.choose_worker("AI", prediction_input.model_id)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/commons/src/load_balancer/worker_load_balancer.py", line 122, in choose_worker
    self.request_count[model_type][worker_id]+=1
KeyError: 'AI'
[2018-05-18 10:21:33 +0800] [9504] [INFO] Worker exiting (pid: 9504)
[2018-05-18 10:21:33 +0800] [9503] [INFO] Handling signal: term
[2018-05-18 10:21:33 +0800] [9503] [INFO] Shutting down: Master
[2018-05-18 10:21:45 +0800] [9525] [INFO] Starting gunicorn 19.7.1
[2018-05-18 10:21:45 +0800] [9525] [INFO] Listening at: http://127.0.0.1:8000 (9525)
[2018-05-18 10:21:45 +0800] [9525] [INFO] Using worker: sync
[2018-05-18 10:21:45 +0800] [9526] [INFO] Booting worker with pid: 9526
[2018-05-18 10:22:01 +0800] [9526] [ERROR] Error handling request /v1/AI_model/predict
Traceback (most recent call last):
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 135, in handle
    self.handle_request(listener, req, client, addr)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 176, in handle_request
    respiter = self.wsgi(environ, resp.start_response)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/falcon/api.py", line 244, in __call__
    responder(req, resp, **params)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/predict.py", line 59, in on_post
    po = self.AI_worker_client.predict(prediction_input)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/AI_worker_client.py", line 99, in predict
    worker = self.load_balancer.choose_worker("AI", prediction_input.model_id)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/commons/src/load_balancer/worker_load_balancer.py", line 122, in choose_worker
    self.request_count[worker_id]+=1
KeyError: u'localhost-9001-0'
[2018-05-18 10:22:03 +0800] [9526] [ERROR] Error handling request /v1/AI_model/predict
Traceback (most recent call last):
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 135, in handle
    self.handle_request(listener, req, client, addr)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 176, in handle_request
    respiter = self.wsgi(environ, resp.start_response)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/falcon/api.py", line 244, in __call__
    responder(req, resp, **params)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/predict.py", line 59, in on_post
    po = self.AI_worker_client.predict(prediction_input)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/AIaas/router/AI_worker_client.py", line 99, in predict
    worker = self.load_balancer.choose_worker("AI", prediction_input.model_id)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/commons/src/load_balancer/worker_load_balancer.py", line 122, in choose_worker
    self.request_count[worker_id]+=1
KeyError: u'localhost-9001-0'
[2018-05-18 10:34:17 +0800] [9526] [INFO] Worker exiting (pid: 9526)
[2018-05-18 10:34:17 +0800] [9525] [INFO] Handling signal: term
[2018-05-18 10:34:17 +0800] [9525] [INFO] Shutting down: Master
[2018-05-18 10:34:37 +0800] [9559] [INFO] Starting gunicorn 19.7.1
[2018-05-18 10:34:37 +0800] [9559] [INFO] Listening at: http://127.0.0.1:8000 (9559)
[2018-05-18 10:34:37 +0800] [9559] [INFO] Using worker: sync
[2018-05-18 10:34:37 +0800] [9560] [INFO] Booting worker with pid: 9560
[2018-05-18 10:34:59 +0800] [9560] [ERROR] Error handling request /elb-healthcheck
Traceback (most recent call last):
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 135, in handle
    self.handle_request(listener, req, client, addr)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/gunicorn/workers/sync.py", line 176, in handle_request
    respiter = self.wsgi(environ, resp.start_response)
  File "/Users/leepand/anaconda2/lib/python2.7/site-packages/falcon/api.py", line 244, in __call__
    responder(req, resp, **params)
  File "/Users/leepand/Downloads/BigRLab_APIs/demoday_fs/web_lab/knn_as_a_service/AIaas/commons/src/elb/elb_resource.py", line 48, in on_get
    count=self.load_balancer.request_count
AttributeError: WorkerLoadBalancer instance has no attribute 'request_count'
[2018-05-18 10:35:40 +0800] [9560] [INFO] Worker exiting (pid: 9560)
[2018-05-18 10:35:40 +0800] [9559] [INFO] Handling signal: term
[2018-05-18 10:35:40 +0800] [9559] [INFO] Shutting down: Master
[2018-05-18 10:35:49 +0800] [9575] [INFO] Starting gunicorn 19.7.1
[2018-05-18 10:35:49 +0800] [9575] [INFO] Listening at: http://127.0.0.1:8000 (9575)
[2018-05-18 10:35:49 +0800] [9575] [INFO] Using worker: sync
[2018-05-18 10:35:49 +0800] [9576] [INFO] Booting worker with pid: 9576
[2018-05-18 10:56:01 +0800] [9575] [CRITICAL] WORKER TIMEOUT (pid:9576)
[2018-05-18 10:56:01 +0800] [9576] [INFO] Worker exiting (pid: 9576)
[2018-05-18 10:56:01 +0800] [9588] [INFO] Booting worker with pid: 9588
